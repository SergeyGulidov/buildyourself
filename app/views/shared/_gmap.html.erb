
<%= gmaps( :map_options => {:raw => "{styles: style}" },
	      :markers => {"data" => @json,  :options => { :do_clustering => true, randomize: true, max_random_distance: 12,
          :custom_infowindow_class => "infowindow_box"}}) %> 



<script type="text/javascript" charset="utf-8">
var style = 
[
  {
    "featureType": "road.highway",
    "elementType": "geometry.fill",
    "stylers": [
      { "saturation": -100 },
      { "color": "#ffffff" }
    ]
  },{
    "featureType": "road.arterial",
    "elementType": "geometry.fill",
    "stylers": [
      { "saturation": -100 },
      { "color": "#ffffff" }
    ]
  },{
    "featureType": "road.local",
    "elementType": "geometry.fill",
    "stylers": [
      { "lightness": 100 }
    ]
  },{
    "featureType": "road.highway",
    "elementType": "labels.text.stroke",
    "stylers": [
      { "color": "#ffffff" }
    ]
  },{
    "featureType": "road.arterial",
    "elementType": "labels.text.stroke",
    "stylers": [
      { "color": "#ffffff" },
      { "visibility": "on" }
    ]
  },{
    "featureType": "water",
    "elementType": "labels",
    "stylers": [
      { "color": "#b1bdd6" },
      { "visibility": "simplified" }
    ]
  },{
    "featureType": "transit",
    "stylers": [
      { "visibility": "simplified" }
    ]
  },{
    "featureType": "landscape.man_made",
    "stylers": [
      { "color": "#e7e7e5" }
    ]
  },{
    "featureType": "landscape.natural",
    "stylers": [
      { "color": "#d6e7bd" }
    ]
  },{
    "featureType": "poi.park",
    "elementType": "geometry.fill",
    "stylers": [
      { "visibility": "on" },
      { "color": "#c5dea2" }
    ]
  },{
    "featureType": "road",
    "elementType": "labels.icon",
    "stylers": [
      { "visibility": "off" }
    ]
  },{
  },{
    "featureType": "administrative.province",
    "elementType": "labels.text",
    "stylers": [
      { "visibility": "off" }
    ]
  }
]
</script>


<% content_for :scripts do %>
  <script type="text/javascript">
     Gmaps.map.infobox = function(boxText) {
      return {
         content: boxText
        ,disableAutoPan: false
        ,maxWidth: 0
        ,pixelOffset: new google.maps.Size(-140, 0)
        ,zIndex: null
        ,boxStyle: { 
          background: "url('http://google-maps-utility-library-v3.googlecode.com/svn/tags/infobox/1.1.5/examples/tipbox.gif') no-repeat"
          ,opacity: 0.92
          ,width: "250px"
           }
        ,closeBoxMargin: "20px 10px 5px 5px"
        ,closeBoxURL: "http://www.google.com/intl/en_us/mapfiles/close.gif"
        ,infoBoxClearance: new google.maps.Size(1, 1)
        ,isHidden: false
        ,pane: "floatPane"
        ,enableEventPropagation: false
     }};
  </script>
<% end %>








